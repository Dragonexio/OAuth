<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: g Pages: 1 -->
<svg width="642pt" height="535pt"
 viewBox="0.00 0.00 642.00 535.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 531)">
<title>g</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-531 638,-531 638,4 -4,4"/>
<!-- LoginApis -->
<g id="node1" class="node">
<title>LoginApis</title>
<polygon fill="none" stroke="#000000" points="0,-.5 0,-526.5 634,-526.5 634,-.5 0,-.5"/>
<text text-anchor="middle" x="317" y="-509.7" font-family="Times,serif" font-size="16.00" fill="#000000">登录授权相关接口或页面</text>
<polyline fill="none" stroke="#000000" points="0,-500.5 634,-500.5 "/>
<text text-anchor="middle" x="134.5" y="-470.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方需提供的页面</text>
<polyline fill="none" stroke="#000000" points="269,-448.5 269,-500.5 "/>
<text text-anchor="start" x="277" y="-483.7" font-family="Times,serif" font-size="16.00" fill="#000000">应用入口页面</text>
<polyline fill="none" stroke="#000000" points="269,-474.5 634,-474.5 "/>
<text text-anchor="start" x="277" y="-457.7" font-family="Times,serif" font-size="16.00" fill="#000000">授权成功（或失败）后的跳转页面</text>
<polyline fill="none" stroke="#000000" points="0,-448.5 634,-448.5 "/>
<text text-anchor="middle" x="80.5" y="-374.7" font-family="Times,serif" font-size="16.00" fill="#000000">DragonEx前端授权页</text>
<polyline fill="none" stroke="#000000" points="161,-308.5 161,-448.5 "/>
<text text-anchor="start" x="169" y="-431.7" font-family="Times,serif" font-size="16.00" fill="#000000">https://dragonex.io/oauth/login/ </text>
<polyline fill="none" stroke="#000000" points="161,-422.5 634,-422.5 "/>
<text text-anchor="start" x="169" y="-405.7" font-family="Times,serif" font-size="16.00" fill="#000000">https://dragonex.im/oauth/login/ </text>
<polyline fill="none" stroke="#000000" points="161,-396.5 634,-396.5 "/>
<text text-anchor="start" x="169" y="-379.7" font-family="Times,serif" font-size="16.00" fill="#000000">https://dragonex.co/oauth/login/ </text>
<polyline fill="none" stroke="#000000" points="161,-370.5 634,-370.5 "/>
<text text-anchor="start" x="169" y="-353.7" font-family="Times,serif" font-size="16.00" fill="#000000">从DragonEx开放平台跳转到第三方应用的入口页面时，</text>
<text text-anchor="start" x="169" y="-335.7" font-family="Times,serif" font-size="16.00" fill="#000000">会传入domain（`io`、`im`或`co`）表示用户当前使用的顶级域名，</text>
<text text-anchor="start" x="169" y="-317.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 接入方需要根据此domain决定跳转到上述的哪个url</text>
<polyline fill="none" stroke="#000000" points="0,-308.5 634,-308.5 "/>
<text text-anchor="middle" x="148" y="-238.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方客户端调用</text>
<polyline fill="none" stroke="#000000" points="296,-176.5 296,-308.5 "/>
<text text-anchor="start" x="304" y="-291.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/login/logout/ </text>
<text text-anchor="end" x="626" y="-273.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 主动将AccessToken下线</text>
<polyline fill="none" stroke="#000000" points="296,-264.5 634,-264.5 "/>
<text text-anchor="start" x="304" y="-247.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/token/status/ </text>
<text text-anchor="end" x="626" y="-229.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 获取AccessToken的状态</text>
<polyline fill="none" stroke="#000000" points="296,-220.5 634,-220.5 "/>
<text text-anchor="start" x="304" y="-203.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/user/detail/ </text>
<text text-anchor="end" x="626" y="-185.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 获取授权用户的信息</text>
<polyline fill="none" stroke="#000000" points="0,-176.5 634,-176.5 "/>
<text text-anchor="middle" x="148" y="-84.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方服务端调用</text>
<polyline fill="none" stroke="#000000" points="296,-.5 296,-176.5 "/>
<text text-anchor="start" x="304" y="-159.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/login/do/ </text>
<text text-anchor="end" x="626" y="-141.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 授权登录</text>
<polyline fill="none" stroke="#000000" points="296,-132.5 634,-132.5 "/>
<text text-anchor="start" x="304" y="-115.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/login/refresh/ </text>
<text text-anchor="end" x="626" y="-97.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 更新AccessToken</text>
<polyline fill="none" stroke="#000000" points="296,-88.5 634,-88.5 "/>
<text text-anchor="start" x="304" y="-71.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/login/logout/ </text>
<text text-anchor="end" x="626" y="-53.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 主动将AccessToken下线</text>
<polyline fill="none" stroke="#000000" points="296,-44.5 634,-44.5 "/>
<text text-anchor="start" x="304" y="-27.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/user/detail/ </text>
<text text-anchor="end" x="626" y="-9.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 获取授权用户的信息</text>
</g>
</g>
</svg>

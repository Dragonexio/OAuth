<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: g Pages: 1 -->
<svg width="644pt" height="457pt"
 viewBox="0.00 0.00 644.00 457.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 453)">
<title>g</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-453 640,-453 640,4 -4,4"/>
<!-- LoginApis -->
<g id="node1" class="node">
<title>LoginApis</title>
<polygon fill="none" stroke="#000000" points="0,-.5 0,-448.5 636,-448.5 636,-.5 0,-.5"/>
<text text-anchor="middle" x="318" y="-431.7" font-family="Times,serif" font-size="16.00" fill="#000000">支付相关接口或页面</text>
<polyline fill="none" stroke="#000000" points="0,-422.5 636,-422.5 "/>
<text text-anchor="middle" x="123.5" y="-392.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方需提供的接口或页面</text>
<polyline fill="none" stroke="#000000" points="247,-370.5 247,-422.5 "/>
<text text-anchor="start" x="255" y="-405.7" font-family="Times,serif" font-size="16.00" fill="#000000">用户支付成功（或失败）后跳转到的接入方地址</text>
<polyline fill="none" stroke="#000000" points="247,-396.5 636,-396.5 "/>
<text text-anchor="start" x="255" y="-379.7" font-family="Times,serif" font-size="16.00" fill="#000000">支付回调地址</text>
<polyline fill="none" stroke="#000000" points="0,-370.5 636,-370.5 "/>
<text text-anchor="middle" x="92.5" y="-344.7" font-family="Times,serif" font-size="16.00" fill="#000000">DragonEx前端支付页</text>
<polyline fill="none" stroke="#000000" points="185,-326.5 185,-370.5 "/>
<text text-anchor="start" x="193" y="-353.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方申请支付后，会随接口响应返回此订单的支付地址，</text>
<text text-anchor="start" x="193" y="-335.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方跳转到该地址即可 </text>
<polyline fill="none" stroke="#000000" points="0,-326.5 636,-326.5 "/>
<text text-anchor="middle" x="117.5" y="-278.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方客户端调用</text>
<polyline fill="none" stroke="#000000" points="235,-238.5 235,-326.5 "/>
<text text-anchor="start" x="243" y="-309.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/pay/order/detail/ </text>
<text text-anchor="end" x="628" y="-291.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 查询订单详情 </text>
<polyline fill="none" stroke="#000000" points="235,-282.5 636,-282.5 "/>
<text text-anchor="start" x="243" y="-265.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/pay/order/history/ </text>
<text text-anchor="end" x="628" y="-247.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 查询历史订单，只能查询属于当前用户的 </text>
<polyline fill="none" stroke="#000000" points="0,-238.5 636,-238.5 "/>
<text text-anchor="middle" x="71.5" y="-115.7" font-family="Times,serif" font-size="16.00" fill="#000000">接入方服务端调用</text>
<polyline fill="none" stroke="#000000" points="143,-.5 143,-238.5 "/>
<text text-anchor="start" x="151" y="-221.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/pay/user2app/pre/ </text>
<text text-anchor="end" x="628" y="-203.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 申请支付（用户向接入方支付）</text>
<polyline fill="none" stroke="#000000" points="143,-194.5 636,-194.5 "/>
<text text-anchor="start" x="151" y="-177.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/pay/app2user/do/ </text>
<text text-anchor="end" x="628" y="-159.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 从接入方转账给用户</text>
<polyline fill="none" stroke="#000000" points="143,-150.5 636,-150.5 "/>
<text text-anchor="start" x="151" y="-133.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/pay/order/detail/ </text>
<text text-anchor="end" x="628" y="-115.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 查询订单详情 </text>
<polyline fill="none" stroke="#000000" points="143,-106.5 636,-106.5 "/>
<text text-anchor="start" x="151" y="-89.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/pay/order/history/ </text>
<text text-anchor="end" x="628" y="-71.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 查询历史订单 </text>
<polyline fill="none" stroke="#000000" points="143,-62.5 636,-62.5 "/>
<text text-anchor="start" x="151" y="-45.7" font-family="Times,serif" font-size="16.00" fill="#000000">/api/v1/pay/callback/redo/ </text>
<text text-anchor="end" x="628" y="-27.7" font-family="Times,serif" font-size="16.00" fill="#000000"> 接入方主动要求某支付记录发起回调</text>
<text text-anchor="end" x="628" y="-9.7" font-family="Times,serif" font-size="16.00" fill="#000000">（不论支付是否成功，也不论之前是否已回调，均会再次发起回调） </text>
</g>
</g>
</svg>

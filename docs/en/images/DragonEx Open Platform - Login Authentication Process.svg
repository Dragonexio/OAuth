<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="887px" preserveAspectRatio="none" style="width:1903px;height:887px;" version="1.1" viewBox="0 0 1903 887" width="1903px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m011yar096gn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="86.4883" y2="800.1152"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="607.5" x2="607.5" y1="86.4883" y2="800.1152"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1151.5" x2="1151.5" y1="86.4883" y2="800.1152"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1485.5" x2="1485.5" y1="86.4883" y2="800.1152"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1831.5" x2="1831.5" y1="86.4883" y2="800.1152"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="8" y="83.5352">user</text><ellipse cx="26" cy="13" fill="#FFFFFF" filter="url(#f1m011yar096gn)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,21 L26,48 M13,29 L39,29 M26,48 L13,63 M26,48 L39,63 " fill="none" filter="url(#f1m011yar096gn)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="8" y="812.6504">user</text><ellipse cx="26" cy="825.6035" fill="#FFFFFF" filter="url(#f1m011yar096gn)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,833.6035 L26,860.6035 M13,841.6035 L39,841.6035 M26,860.6035 L13,875.6035 M26,860.6035 L39,875.6035 " fill="none" filter="url(#f1m011yar096gn)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="537.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="544.5" y="71.5352">DragonExBrowser</text><rect fill="#FEFECE" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="537.5" y="799.1152"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="544.5" y="819.6504">DragonExBrowser</text><rect fill="#FEFECE" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1101.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1108.5" y="71.5352">AppBrowser</text><rect fill="#FEFECE" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1101.5" y="799.1152"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="1108.5" y="819.6504">AppBrowser</text><rect fill="#FFC0CB" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1441.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1448.5" y="71.5352">AppServer</text><rect fill="#FFC0CB" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1441.5" y="799.1152"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1448.5" y="819.6504">AppServer</text><rect fill="#00FFFF" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="1767.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1774.5" y="71.5352">DragonExServer</text><rect fill="#00FFFF" filter="url(#f1m011yar096gn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="1767.5" y="799.1152"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1774.5" y="819.6504">DragonExServer</text><polygon fill="#A80036" points="1140,144.4199,1150,148.4199,1140,152.4199,1144,148.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26" x2="1146" y1="148.4199" y2="148.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33" y="128.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="46" y="113.0566">Users click APP entranace</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="321" x="46" y="128.3672">（Carry different fileds, such as domain and lang，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="50" y="143.6777">check Login API doc for more details ）</text><polygon fill="#A80036" points="619,280.9043,609,284.9043,619,288.9043,615,284.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="613" x2="1151" y1="284.9043" y2="284.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="625" y="226.5752">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="507" x="638" y="172.9883">accessing party The access party determines whether authorization is required，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="314" x="642" y="188.2988">if needed，jump to DragonEx authentication page</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="638" y="203.6094">(https://{domain}/oauth/login/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="638" y="218.9199">?app_id={yourappid}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="638" y="234.2305">&amp;scopes={authentication to login token}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="638" y="249.541">&amp;state={random character string}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="638" y="264.8516">&amp;device={login device}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="638" y="280.1621">&amp;redirect_url= {the address after successful login})</text><polygon fill="#A80036" points="37,310.2148,27,314.2148,37,318.2148,33,314.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="607" y1="314.2148" y2="314.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43" y="309.4727">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="56" y="309.4727">request authorization from user</text><polygon fill="#A80036" points="596,339.5254,606,343.5254,596,347.5254,600,343.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26" x2="602" y1="343.5254" y2="343.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33" y="338.7832">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="545" x="46" y="338.7832">user allows the authorization（if not allow，DragonEx shall handle further operation）</text><polygon fill="#A80036" points="1820,368.8359,1830,372.8359,1820,376.8359,1824,372.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="608" x2="1826" y1="372.8359" y2="372.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="615" y="368.0938">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="628" y="368.0938">AccessCode request</text><polygon fill="#A80036" points="619,428.7676,609,432.7676,619,436.7676,615,432.7676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="613" x2="1831" y1="432.7676" y2="432.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="625" y="412.7148">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="638" y="397.4043">return AccessCode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="638" y="412.7148">（If AccessCode request fail，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="638" y="428.0254">DragonEx shall handle further opertaion）</text><path d="M407,445.7676 L407,485.7676 L804,485.7676 L804,455.7676 L794,445.7676 L407,445.7676 " fill="#FBFB77" filter="url(#f1m011yar096gn)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M794,445.7676 L794,455.7676 L804,455.7676 L794,445.7676 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="376" x="413" y="463.3359">the process above could handle by using DragonEx browser</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="417" y="478.6465">User can log in through DragonEx open platform only</text><polygon fill="#A80036" points="1140,528.0098,1150,532.0098,1140,536.0098,1144,532.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="608" x2="1146" y1="532.0098" y2="532.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="615" y="519.6123">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="628" y="511.957">Carry AccessCode and other information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="632" y="527.2676">jump to the redirect_url provided above</text><polygon fill="#A80036" points="1474,572.6309,1484,576.6309,1474,580.6309,1478,576.6309" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1480" y1="576.6309" y2="576.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1159" y="564.2334">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="1172" y="556.5781">will get information like AccessCode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1176" y="571.8887">sent to APPserver</text><polygon fill="#A80036" points="1820,617.252,1830,621.252,1820,625.252,1824,621.252" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1486" x2="1826" y1="621.252" y2="621.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1493" y="608.8545">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1506" y="601.1992">use AcccessCode to login</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="1506" y="616.5098">（https://oauth.dragonex.io/api/v1/login/do/）</text><polygon fill="#A80036" points="1497,677.1836,1487,681.1836,1497,685.1836,1493,681.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1491" x2="1831" y1="681.1836" y2="681.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1503" y="661.1309">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="1516" y="645.8203">return the result of login：</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="1520" y="661.1309">if sucess，return login Token；</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="1520" y="676.4414">if success，return corresponding error code</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1486" x2="1528" y1="710.4941" y2="710.4941"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1528" x2="1528" y1="710.4941" y2="723.4941"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1487" x2="1528" y1="723.4941" y2="723.4941"/><polygon fill="#A80036" points="1497,719.4941,1487,723.4941,1497,727.4941,1493,723.4941" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1493" y="705.752">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1506" y="705.752">handle by oneself if needed</text><polygon fill="#A80036" points="1163,748.8047,1153,752.8047,1163,756.8047,1159,752.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1157" x2="1485" y1="752.8047" y2="752.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1169" y="748.0625">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="1182" y="748.0625">return the result of login and other information</text><polygon fill="#A80036" points="1820,778.1152,1830,782.1152,1820,786.1152,1824,782.1152" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152" x2="1826" y1="782.1152" y2="782.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1159" y="777.373">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="476" x="1172" y="777.373">if login success, allow AccessToken to visit DragonEx authorized resources</text><!--MD5=[57877ae48cb9feda6e7824729cff0507]
@startuml DragonEx Open Platform - Login Authentication Process 

actor user as user #White
participant DragonExBrowser as dragonexBrowser
participant AppBrowser as appBrowser
participant AppServer as appServer #Pink
participant DragonExServer as dragonexServer #aqua

autonumber 1 1
user -> appBrowser: Users click APP entranace\n（Carry different fileds, such as domain and lang，\n check Login API doc for more details ）
appBrowser -> dragonexBrowser: accessing party The access party determines whether authorization is required，\n if needed，jump to DragonEx authentication page\n(https://{domain}/oauth/login/\n?app_id={yourappid}\n&scopes={authentication to login token}\n&state={random character string}\n&device={login device}\n&redirect_url= {the address after successful login})
dragonexBrowser -> user: request authorization from user 
user -> dragonexBrowser: user allows the authorization（if not allow，DragonEx shall handle further operation）
dragonexBrowser -> dragonexServer: AccessCode request
dragonexServer -> dragonexBrowser: return AccessCode\n（If AccessCode request fail，\nDragonEx shall handle further opertaion）
note over of dragonexBrowser: the process above could handle by using DragonEx browser\n User can log in through DragonEx open platform only
autonumber stop

autonumber 1 1
dragonexBrowser -> appBrowser: Carry AccessCode and other information\n jump to the redirect_url provided above
appBrowser -> appServer: will get information like AccessCode\n sent to APPserver 
appServer -> dragonexServer:  use AcccessCode to login \n（https://oauth.dragonex.io/api/v1/login/do/）
dragonexServer -> appServer: return the result of login：\n if sucess，return login Token；\n if success，return corresponding error code
appServer - -> appServer: handle by oneself if needed
appServer -> appBrowser: return the result of login and other information
appBrowser -> dragonexServer: if login success, allow AccessToken to visit DragonEx authorized resources 
autonumber stop

@enduml

PlantUML version 1.2019.10(Sat Sep 14 04:53:03 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 13+33
Operating System: Mac OS X
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>
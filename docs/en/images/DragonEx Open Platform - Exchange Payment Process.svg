<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1118px" preserveAspectRatio="none" style="width:2176px;height:1118px;" version="1.1" viewBox="0 0 2176 1118" width="2176px" zoomAndPan="magnify"><defs><filter height="300%" id="fqb8873gr58k9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="86.4883" y2="1030.9785"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="242.5" x2="242.5" y1="86.4883" y2="1030.9785"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="872.5" x2="872.5" y1="86.4883" y2="1030.9785"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1286.5" x2="1286.5" y1="86.4883" y2="1030.9785"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1950.5" x2="1950.5" y1="86.4883" y2="1030.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="8" y="83.5352">user</text><ellipse cx="26" cy="13" fill="#FFFFFF" filter="url(#fqb8873gr58k9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,21 L26,48 M13,29 L39,29 M26,48 L13,63 M26,48 L39,63 " fill="none" filter="url(#fqb8873gr58k9)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="8" y="1043.5137">user</text><ellipse cx="26" cy="1056.4668" fill="#FFFFFF" filter="url(#fqb8873gr58k9)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,1064.4668 L26,1091.4668 M13,1072.4668 L39,1072.4668 M26,1091.4668 L13,1106.4668 M26,1091.4668 L39,1106.4668 " fill="none" filter="url(#fqb8873gr58k9)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="172.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="179.5" y="71.5352">DragonExBrowser</text><rect fill="#FEFECE" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="172.5" y="1029.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="179.5" y="1050.5137">DragonExBrowser</text><rect fill="#FEFECE" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="822.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="829.5" y="71.5352">AppBrowser</text><rect fill="#FEFECE" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="822.5" y="1029.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="829.5" y="1050.5137">AppBrowser</text><rect fill="#FFC0CB" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1242.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1249.5" y="71.5352">AppServer</text><rect fill="#FFC0CB" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1242.5" y="1029.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1249.5" y="1050.5137">AppServer</text><rect fill="#00FFFF" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="1886.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1893.5" y="71.5352">DragonExServer</text><rect fill="#00FFFF" filter="url(#fqb8873gr58k9)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="1886.5" y="1029.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1893.5" y="1050.5137">DragonExServer</text><polygon fill="#A80036" points="1275,113.7988,1285,117.7988,1275,121.7988,1279,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="873" x2="1281" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="880" y="113.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="893" y="113.0566">payment request</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1287" x2="1329" y1="147.1094" y2="147.1094"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1329" x2="1329" y1="147.1094" y2="160.1094"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1288" x2="1329" y1="160.1094" y2="160.1094"/><polygon fill="#A80036" points="1298,156.1094,1288,160.1094,1298,164.1094,1294,160.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1294" y="142.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="323" x="1307" y="142.3672">perfrom the required processing，Ex. Create orders</text><polygon fill="#A80036" points="1939,369.1465,1949,373.1465,1939,377.1465,1943,373.1465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1287" x2="1945" y1="373.1465" y2="373.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1294" y="276.541">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1307" y="184.6777">payment request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="326" x="1307" y="199.9883">（https://oauth.dragonex.io/api/v1/user2app/pre/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="1307" y="215.2988">?app_id={yourappid}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="1307" y="230.6094">&amp;trade_no={payment number，unique}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="1307" y="245.9199">&amp;coin_code={currency}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="1307" y="261.2305">&amp;volume={volume}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="1307" y="276.541">&amp;scene={payment scenarios}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="1307" y="291.8516">&amp;desc={detailed description}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1307" y="307.1621">&amp;device={device}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="1307" y="322.4727">&amp;state={random and unpredictable string}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="1307" y="337.7832">&amp;domain={user’s login domain}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="627" x="1307" y="353.0938">&amp;specify_dragonex_uid={designate user that need to pay，If is not 0，then allow the user pay only}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="354" x="1307" y="368.4043">&amp;redirect_url={the address after the payment success}）</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1951" x2="1993" y1="402.457" y2="402.457"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1993" x2="1993" y1="402.457" y2="415.457"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1952" x2="1993" y1="415.457" y2="415.457"/><polygon fill="#A80036" points="1962,411.457,1952,415.457,1962,419.457,1958,415.457" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1958" y="397.7148">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="1971" y="397.7148">Authentication</text><polygon fill="#A80036" points="1298,471.3887,1288,475.3887,1298,479.3887,1294,475.3887" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1292" x2="1950" y1="475.3887" y2="475.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1304" y="455.3359">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="1317" y="440.0254">return the result of the application：</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="1321" y="455.3359">if success，return payment address；</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1321" y="470.6465">if fails，return error</text><polygon fill="#A80036" points="884,500.6992,874,504.6992,884,508.6992,880,504.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="878" x2="1286" y1="504.6992" y2="504.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="890" y="499.957">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="903" y="499.957">return the result of the application</text><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="873" x2="915" y1="534.0098" y2="534.0098"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="915" x2="915" y1="534.0098" y2="547.0098"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="874" x2="915" y1="547.0098" y2="547.0098"/><polygon fill="#808080" points="884,543.0098,874,547.0098,884,551.0098,880,547.0098" style="stroke: #808080; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="880" y="529.2676">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="356" x="893" y="529.2676">if payment failed，the access party shall handle by itself</text><polygon fill="#A80036" points="254,572.3203,244,576.3203,254,580.3203,250,576.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248" x2="872" y1="576.3203" y2="576.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="260" y="571.5781">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="273" y="571.5781">if success：jump to the return payment address</text><polygon fill="#A80036" points="37,601.6309,27,605.6309,37,609.6309,33,605.6309" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="242" y1="605.6309" y2="605.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43" y="600.8887">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="56" y="600.8887">Ask if the user agrees to pay</text><polygon fill="#808080" points="231,630.9414,241,634.9414,231,638.9414,235,634.9414" style="stroke: #808080; stroke-width: 1.0;"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="26" x2="237" y1="634.9414" y2="634.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33" y="630.1992">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="46" y="630.1992">user disagree to pay</text><polygon fill="#808080" points="861,675.5625,871,679.5625,861,683.5625,865,679.5625" style="stroke: #808080; stroke-width: 1.0;"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="243" x2="867" y1="679.5625" y2="679.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="250" y="667.165">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="272" y="659.5098">jump to the redirect_url provided above，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="276" y="674.8203">with order number and status=-1parameter</text><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="873" x2="915" y1="708.873" y2="708.873"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="915" x2="915" y1="708.873" y2="721.873"/><line style="stroke: #808080; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="874" x2="915" y1="721.873" y2="721.873"/><polygon fill="#808080" points="884,717.873,874,721.873,884,725.873,880,721.873" style="stroke: #808080; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="880" y="704.1309">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="348" x="902" y="704.1309">the access party shall handle further operation by itself</text><polygon fill="#A80036" points="231,747.1836,241,751.1836,231,755.1836,235,751.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26" x2="237" y1="751.1836" y2="751.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33" y="746.4414">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="46" y="746.4414">user agree to pay</text><polygon fill="#A80036" points="1939,776.4941,1949,780.4941,1939,784.4941,1943,780.4941" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="1945" y1="780.4941" y2="780.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="250" y="775.752">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="272" y="775.752">payment request</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1951" x2="1993" y1="809.8047" y2="809.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1993" x2="1993" y1="809.8047" y2="822.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1952" x2="1993" y1="822.8047" y2="822.8047"/><polygon fill="#A80036" points="1962,818.8047,1952,822.8047,1962,826.8047,1958,822.8047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1958" y="805.0625">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="1980" y="805.0625">authentication, payment, etc.</text><polygon fill="#A80036" points="254,878.7363,244,882.7363,254,886.7363,250,882.7363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248" x2="1950" y1="882.7363" y2="882.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="260" y="862.6836">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="282" y="847.373">return the result of payment：</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="286" y="862.6836">if success，return order information；</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="286" y="877.9941">if fails，return error code</text><polygon fill="#A80036" points="1298,908.0469,1288,912.0469,1298,916.0469,1294,912.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1292" x2="1950" y1="912.0469" y2="912.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1304" y="907.3047">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="574" x="1326" y="907.3047">if payment success ，Asynchronous payment callback（Note，callback only if it success）</text><polygon fill="#A80036" points="861,937.3574,871,941.3574,861,945.3574,865,941.3574" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="867" y1="941.3574" y2="941.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="250" y="936.6152">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="584" x="272" y="936.6152">carry the result of the payment（success or fail），jump  to the redirect_url prvovided above</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="873" x2="915" y1="970.668" y2="970.668"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="915" x2="915" y1="970.668" y2="983.668"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="874" x2="915" y1="983.668" y2="983.668"/><polygon fill="#A80036" points="884,979.668,874,983.668,884,987.668,880,983.668" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="880" y="965.9258">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="902" y="965.9258">the accessing party shall handle further operation by itself</text><polygon fill="#A80036" points="1275,1008.9785,1285,1012.9785,1275,1016.9785,1279,1012.9785" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="873" x2="1281" y1="1012.9785" y2="1012.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="880" y="1008.2363">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="902" y="1008.2363">the accessing party shall handle further operation by itself</text><!--MD5=[a59656a580181d41783429b57e516873]
@startuml DragonEx Open Platform - Exchange Payment Process

actor user as user #White
participant DragonExBrowser as dragonexBrowser
participant AppBrowser as appBrowser
participant AppServer as appServer #Pink
participant DragonExServer as dragonexServer #aqua

autonumber 1 1
appBrowser -> appServer: payment request
appServer - -> appServer: perfrom the required processing，Ex. Create orders
appServer -> dragonexServer: payment request\n（https://oauth.dragonex.io/api/v1/user2app/pre/\n?app_id={yourappid}\n&trade_no={payment number，unique}\n&coin_code={currency}\n&volume={volume}\n&scene={payment scenarios}\n&desc={detailed description}\n&device={device}\n&state={random and unpredictable string}\n&domain={user’s login domain}\n&specify_dragonex_uid={designate user that need to pay，If is not 0，then allow the user pay only}\n&redirect_url={the address after the payment success}）

dragonexServer -> dragonexServer: Authentication
dragonexServer -> appServer: return the result of the application：\n if success，return payment address；\n if fails，return error
appServer -> appBrowser: return the result of the application

appBrowser -[#Gray]-> appBrowser: if payment failed，the access party shall handle by itself
autonumber stop

autonumber 7 1
appBrowser -> dragonexBrowser: if success：jump to the return payment address 
dragonexBrowser -> user: Ask if the user agrees to pay 

user -[#Gray]-> dragonexBrowser: user disagree to pay
dragonexBrowser -[#Gray]-> appBrowser: jump to the redirect_url provided above，\n with order number and status=-1parameter
appBrowser -[#Gray]-> appBrowser: the access party shall handle further operation by itself
autonumber stop

autonumber 9 1
user -> dragonexBrowser: user agree to pay 
dragonexBrowser -> dragonexServer: payment request
dragonexServer - -> dragonexServer: authentication, payment, etc.
dragonexServer -> dragonexBrowser:return the result of payment：\n if success，return order information；\n if fails，return error code
dragonexServer - -> appServer: if payment success ，Asynchronous payment callback（Note，callback only if it success）

dragonexBrowser -> appBrowser: carry the result of the payment（success or fail），jump  to the redirect_url prvovided above
appBrowser - -> appBrowser: the accessing party shall handle further operation by itself
appBrowser - -> appServer: the accessing party shall handle further operation by itself
autonumber stop

@enduml

PlantUML version 1.2019.10(Sat Sep 14 04:53:03 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 13+33
Operating System: Mac OS X
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>